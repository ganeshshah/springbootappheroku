{"ast":null,"code":"import _slicedToArray from\"C:/Users/codin/OneDrive/Desktop/springDevelopment/30-days-of-dev/springApp/src/js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import{getAllStudents}from\"./client\";import{errorNotification}from\"./Notification\";import React,{useState,useEffect,Fragment}from\"react\";import Container from\"./Container\";import Footer from\"./Footer\";import AddStudentForm from\"./forms/AddStudentForm\";import{Table,Avatar,Spin,Modal,Empty,Popconfirm,Button}from\"antd\";import{LoadingOutlined}from\"@ant-design/icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var getIndicatorIcon=function getIndicatorIcon(){return/*#__PURE__*/_jsx(LoadingOutlined,{style:{fontSize:24},spin:true});};function App(){var _this=this;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFetching=_useState4[0],setisFetching=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAddStudentModalVisible=_useState6[0],setisAddStudentModalVisible=_useState6[1];function FetchStudents(){useEffect(function(){setisFetching(true);getAllStudents().then(function(res){return res.json();}).then(function(data){setisFetching(false);setStudents(data);console.log(data);}).catch(function(error){console.log(error.error);var message=error.error.message;var description=error.error.error;errorNotification(message,description);setisFetching(false);});},[]);}FetchStudents();var openAddStudentModal=function openAddStudentModal(){return setisAddStudentModalVisible(true);};var closeAddStudentModal=function closeAddStudentModal(){return setisAddStudentModalVisible(false);};var commonElements=function commonElements(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{title:\"Add new student\",visible:isAddStudentModalVisible,onOk:closeAddStudentModal,onCancel:closeAddStudentModal,width:1000,children:/*#__PURE__*/_jsx(AddStudentForm,{onSuccess:function onSuccess(){_this.closeAddStudentModal();FetchStudents();}})}),/*#__PURE__*/_jsx(Footer,{numberOfStudents:students.length,handleAddStudentClickEvent:openAddStudentModal})]});};if(isFetching){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Spin,{indicator:getIndicatorIcon()})});}if(students&&students.length){var columns=[{title:\"\",key:\"avatar\",render:function render(text,student){return/*#__PURE__*/_jsx(Avatar,{size:\"large\",children:\"\".concat(student.firstName.charAt(0).toUpperCase()).concat(student.lastName.charAt(0).toUpperCase())});}},{title:\"Student Id\",dataIndex:\"studentId\",key:\"studentId\"},{title:\"First Name\",dataIndex:\"firstName\",key:\"firstName\"},{title:\"Last Name\",dataIndex:\"lastName\",key:\"lastName\"},{title:\"Email\",dataIndex:\"email\",key:\"email\"},{title:\"Gender\",dataIndex:\"gender\",key:\"gender\"},{title:'Action',key:'action',render:function render(text,record){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Popconfirm,{placement:\"topRight\",title:\"Are you sure to delete \".concat(record.studentId),onConfirm:function onConfirm(){return _this.deleteStudent(record.studentId);},okText:\"Yes\",cancelText:\"No\",onCancel:function onCancel(e){return e.stopPropagation();},children:/*#__PURE__*/_jsx(Button,{type:\"danger\",onClick:function onClick(e){return e.stopPropagation();},children:\"Delete\"})}),/*#__PURE__*/_jsx(Button,{style:{marginLeft:'5px'},type:\"primary\",onClick:function onClick(){return _this.editUser(record);},children:\"Edit\"})]});}}];return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Table,{style:{marginBottom:\"100px\"},dataSource:students,columns:columns,rowKey:\"studentId\",pagination:false}),commonElements()]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Empty,{description:/*#__PURE__*/_jsx(\"h1\",{children:\"No Students found\"})}),commonElements()]});}export default App;","map":{"version":3,"names":["getAllStudents","errorNotification","React","useState","useEffect","Fragment","Container","Footer","AddStudentForm","Table","Avatar","Spin","Modal","Empty","Popconfirm","Button","LoadingOutlined","getIndicatorIcon","fontSize","App","students","setStudents","isFetching","setisFetching","isAddStudentModalVisible","setisAddStudentModalVisible","FetchStudents","then","res","json","data","console","log","catch","error","message","description","openAddStudentModal","closeAddStudentModal","commonElements","length","columns","title","key","render","text","student","firstName","charAt","toUpperCase","lastName","dataIndex","record","studentId","deleteStudent","e","stopPropagation","marginLeft","editUser","marginBottom"],"sources":["C:/Users/codin/OneDrive/Desktop/springDevelopment/30-days-of-dev/springApp/src/js/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { getAllStudents } from \"./client\";\nimport { errorNotification } from \"./Notification\";\nimport React, { useState, useEffect, Fragment } from \"react\";\nimport Container from \"./Container\";\nimport Footer from \"./Footer\";\nimport AddStudentForm from \"./forms/AddStudentForm\";\nimport { Table, Avatar, Spin, Modal, Empty, Popconfirm, Button } from \"antd\";\n\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst getIndicatorIcon = () => (\n  <LoadingOutlined style={{ fontSize: 24 }} spin />\n);\n\nfunction App() {\n  const [students, setStudents] = useState([]);\n  const [isFetching, setisFetching] = useState(false);\n  const [isAddStudentModalVisible, setisAddStudentModalVisible] =\n    useState(false);\n\n  function FetchStudents() {\n    useEffect(() => {\n      setisFetching(true);\n      getAllStudents()\n        .then((res) => res.json())\n        .then((data) => {\n          setisFetching(false);\n          setStudents(data);\n          console.log(data);\n        })\n        .catch((error) => {\n          console.log(error.error);\n          const message = error.error.message;\n          const description = error.error.error;\n          errorNotification(message, description);\n          setisFetching(false);\n        });\n    }, []);\n  }\n\n  FetchStudents();\n\n  const openAddStudentModal = () => setisAddStudentModalVisible(true);\n  const closeAddStudentModal = () => setisAddStudentModalVisible(false);\n\n  const commonElements = () => (\n    <div>\n      <Modal\n        title=\"Add new student\"\n        visible={isAddStudentModalVisible}\n        onOk={closeAddStudentModal}\n        onCancel={closeAddStudentModal}\n        width={1000}\n      >\n        <AddStudentForm\n          onSuccess={() => {\n            this.closeAddStudentModal();\n            FetchStudents();\n          }}\n        />\n      </Modal>\n      <Footer\n        numberOfStudents={students.length}\n        handleAddStudentClickEvent={openAddStudentModal}\n      />\n    </div>\n  );\n\n  if (isFetching) {\n    return (\n      <Container>\n        <Spin indicator={getIndicatorIcon()} />\n      </Container>\n    );\n  }\n\n  if (students && students.length) {\n    const columns = [\n      {\n        title: \"\",\n        key: \"avatar\",\n        render: (text, student) => (\n          <Avatar size=\"large\">\n            {`${student.firstName.charAt(0).toUpperCase()}${student.lastName\n              .charAt(0)\n              .toUpperCase()}`}\n          </Avatar>\n        ),\n      },\n      {\n        title: \"Student Id\",\n        dataIndex: \"studentId\",\n        key: \"studentId\",\n      },\n      {\n        title: \"First Name\",\n        dataIndex: \"firstName\",\n        key: \"firstName\",\n      },\n      {\n        title: \"Last Name\",\n        dataIndex: \"lastName\",\n        key: \"lastName\",\n      },\n      {\n        title: \"Email\",\n        dataIndex: \"email\",\n        key: \"email\",\n      },\n      {\n        title: \"Gender\",\n        dataIndex: \"gender\",\n        key: \"gender\",\n      },\n      {\n        title: 'Action',\n        key: 'action',\n        render: (text, record) => (\n          <Fragment>\n            <Popconfirm\n              placement='topRight'\n              title={`Are you sure to delete ${record.studentId}`} \n              onConfirm={() => this.deleteStudent(record.studentId)} okText='Yes' cancelText='No'\n              onCancel={e => e.stopPropagation()}>\n              <Button type='danger' onClick={(e) => e.stopPropagation()}>Delete</Button>\n            </Popconfirm>\n            <Button style={{marginLeft: '5px'}} type='primary' onClick={() => this.editUser(record)}>Edit</Button>\n          </Fragment>\n        ),\n      }\n    ];\n    return (\n      <Container>\n        <Table\n          style={{ marginBottom: \"100px\" }}\n          dataSource={students}\n          columns={columns}\n          rowKey={\"studentId\"}\n          pagination={false}\n        />\n        { commonElements() }\n      </Container>\n    );\n  }\n  return (\n    <Container>\n      <Empty description={<h1>No Students found</h1>} />\n      { commonElements() }\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}